## practice on 1 machine
VERSION=v00.001 envsubst < recipes/meta-llama/Llama-3.1-8B-Instruct/sft/config_distill_v00.001.yaml > temp_config_01.yaml && accelerate launch --config_file recipes/accelerate_configs/zero3_last.yaml --num_processes=1 src/open_r1/sft.py --config temp_config_01.yaml


### SFT distillation zero1_claude
VERSION=v00.31 envsubst < recipes/meta-llama/Llama-3.1-8B-Instruct/sft/config_distill_v00.31.yaml > temp_config.yaml && accelerate launch --config_file recipes/accelerate_configs/zero1_claude.yaml --num_processes=4 src/open_r1/sft.py --config temp_config.yaml

### SFT distillation Zero3_last
VERSION=v00.23 envsubst < recipes/meta-llama/Llama-3.1-8B-Instruct/sft/config_distill_v00.23.yaml > temp_config.yaml && accelerate launch --config_file recipes/accelerate_configs/zero3_last.yaml --num_processes=4 src/open_r1/sft.py --config temp_config.yaml

### SFT distillation fsdp
VERSION=v00.27 envsubst < recipes/meta-llama/Llama-3.1-8B-Instruct/sft/config_distill_v00.27.yaml > temp_config.yaml && accelerate launch --config_file recipes/accelerate_configs/fsdp.yaml --num_processes=4 src/open_r1/sft.py --config temp_config.yaml


### SFT distillation with DDP (LOOKS BROKEN! BECAUSE OF padding_free=true??)
VERSION=v00.22 envsubst < recipes/meta-llama/Llama-3.1-8B-Instruct/sft/config_distill_v00.22.yaml > temp_config.yaml && accelerate launch --config_file recipes/accelerate_configs/ddp.yaml --num_processes=4 src/open_r1/sft.py --config temp_config.yaml

### Fisher SFT
VERSION=v00.31 envsubst < recipes/meta-llama/Llama-3.1-8B-Instruct/sft/config_distill_v00.31.yaml > temp_config.yaml && accelerate launch --config_file recipes/accelerate_configs/zero1_claude.yaml --num_processes=2 src/open_r1/sft.py --config temp_config.yaml











## doing bf16 grpo
VERSION=v00.14 envsubst < recipes/meta-llama/Llama-3.1-8B-Instruct/grpo/config_grpo_v00.14.yaml > temp_config.yaml && \
accelerate launch --config_file recipes/accelerate_configs/zero2.yaml --num_processes=4 src/open_r1/grpo.py --config temp_config.yaml